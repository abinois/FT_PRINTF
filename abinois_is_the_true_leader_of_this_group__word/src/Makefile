# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: edillenb <marvin@42.fr>                    +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2019/05/27 16:42:47 by edillenb          #+#    #+#              #
#    Updated: 2019/05/30 20:30:22 by edillenb         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME = libftprintf.a
CFLAGS = -Wall -Werror -Wextra
CC = gcc
LIBFT = libft/libft.a

SRC = $(addsuffix .c, \
	buffer convert flag float_a float_b cast_arg malloc_str fill_str \
	ft_printf tools tools2 fill_float floatools)

SRCLIBFT = $(addprefix libft/ft_, $(addsuffix .o, \
	    hexatoa lltoa llutoa memdel octatoa po putstr strnew strlen \
	    strsub str_up atoi strjoinfr str_add putnstr memset strncpy strdup \
		free_stropt))

OBJ = $(SRC:.c=.o)

GREEN = \033[01;32m
BLUE = \033[01;34m
RED = \033[01;31m
YELLOW = \033[01;33m
MAGENTA = \033[35m
BLACK = \033[30m
NOCOLOR = \033[0m

all: $(NAME)

$(NAME): $(OBJ) Makefile ft_printf.h
	@echo "ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« "
	@echo "ðŸ”«                                                               $(MAGENTA)ðŸ”« "
	@echo "ðŸ”«   [ auteurs : abinois âš¡ï¸  edillenb ]$(BLUE)                           ðŸ”« "
	@echo "ðŸ”«                                                               ðŸ”« "
	@echo "ðŸ”«   ._____,   ._____,     ._. .__,      ._. ._______. .______,  ðŸ”« "
	@echo "ðŸ”«   | ._,  \  | ._,  \    |_| |   \     | | |__. .__| | .____|  ðŸ”« "
	@echo "ðŸ”«   | |  \  | | |  \  |   ._. | |\ \    | |    | |    | |       ðŸ”« "
	@echo "ðŸ”«   | |   | | | |   | |   | | | | \ \   | |    | |    | |__.    ðŸ”« "
	@echo "ðŸ”«   | |__/ /  | |__/ /    | | | |  \ \  | |    | |    | .__|    ðŸ”« "
	@echo "ðŸ”«   | .___/   |  ___ \    | | | |   \ \ | |    | |    | |       ðŸ”« "
	@echo "ðŸ”«   | |       | |   \ \   | | | |    \ \| |    | |    | |       ðŸ”« "
	@echo "ðŸ”«   | |       | |    \ \  | | | |     \   |    | |    | |       ðŸ”« "
	@echo "ðŸ”«   |_|       |_|     \_\ |_| |_|      \__|    |_|    |_|       ðŸ”« "
	@echo "ðŸ”«                                                               ðŸ”« "
	@echo "ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« $(BLACK)"
	make -C libft
	@echo "$(BLUE)âš¡ï¸ EXTRACTION DES .O . . . . . . . . . . . . .$(YELLOW)"
	@ar xv $(LIBFT) $(SRCLIBFT)
	@echo "$(BLUE)âš¡ï¸ COMPILATION . . . . . . . . . . . . .$(YELLOW)"
	$(CC) $(CFLAGS) -c $(SRC)
	@ar rc $(NAME) $(OBJ) $(SRCLIBFT)
	@ranlib $(NAME)
	@echo "$(GREEN)TOUT EST ---------------------------> OK$(NOCOLOR)"

clean:
	make clean -C libft
	@echo "$(BLUE)âš¡ï¸ SUPPR DES .O . . . . . . . . . .$(RED)"
	rm -f $(OBJ)
	@echo "$(GREEN)TOUT EST ---------------------------> OK$(NOCOLOR)"

fclean: clean
	make fclean -C libft
	@echo "$(BLUE)âš¡ï¸ SUPPR DU .A . . . . . . . .$(RED)"
	rm -f $(NAME)
	@echo "$(GREEN)TOUT EST ---------------------------> OK$(BLACK)"

re: fclean all
	@echo "ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”«  $(BLUE)ET C'EST REPARTI ! ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« ðŸ”« "
	@echo "$(BLUE)âš¡ï¸ RELINK . . . . . . . . . . . . . . ."
	@echo "$(GREEN)TOUT EST ---------------------------> OK$(NOCOLOR)"

.PHONY: all clean fclean re
